<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Liam McGrath">

<title>Assignment 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Assignment 1.1_files/libs/clipboard/clipboard.min.js"></script>
<script src="Assignment 1.1_files/libs/quarto-html/quarto.js"></script>
<script src="Assignment 1.1_files/libs/quarto-html/popper.min.js"></script>
<script src="Assignment 1.1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Assignment 1.1_files/libs/quarto-html/anchor.min.js"></script>
<link href="Assignment 1.1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Assignment 1.1_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Assignment 1.1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Assignment 1.1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Assignment 1.1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Assignment 1</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Liam McGrath </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p>Load Packages</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>##PART I: Collect and Describe the Data</p>
<p>Load the inspections dataset</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>inspections <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://s3.amazonaws.com/notredame.analytics.data/inspections.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 140954 Columns: 17
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (12): DBA Name, AKA Name, Facility Type, Risk, Address, City, State, Ins...
dbl  (5): Inspection ID, License #, Zip, Latitude, Longitude

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(inspections)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 140,954
Columns: 17
$ `Inspection ID`   &lt;dbl&gt; 1995829, 1995817, 1995822, 1995814, 1995811, 1995752…
$ `DBA Name`        &lt;chr&gt; "SUBWAY", "VENEZUELAN BOWL GRILL LLC", "SEVEN TEN", …
$ `AKA Name`        &lt;chr&gt; "SUBWAY", "VENEZUELAN BOWL GRILL", "SEVEN TEN", "CHI…
$ `License #`       &lt;dbl&gt; 1679112, 2424110, 1172093, 1334960, 2334190, 2517730…
$ `Facility Type`   &lt;chr&gt; "Restaurant", "Restaurant", "Restaurant", "Restauran…
$ Risk              &lt;chr&gt; "Risk 1 (High)", "Risk 1 (High)", "Risk 1 (High)", "…
$ Address           &lt;chr&gt; "8711 S ASHLAND AVE", "2436 N LINCOLN AVE", "1055 E …
$ City              &lt;chr&gt; "CHICAGO", "CHICAGO", "CHICAGO", "CHICAGO", "CHICAGO…
$ State             &lt;chr&gt; "IL", "IL", "IL", "IL", "IL", "IL", "IL", "IL", "IL"…
$ Zip               &lt;dbl&gt; 60620, 60614, 60615, 60629, 60615, 60621, 60630, 606…
$ `Inspection Date` &lt;chr&gt; "03/17/2017", "03/17/2017", "03/17/2017", "03/17/201…
$ `Inspection Type` &lt;chr&gt; "Canvass Re-Inspection", "Canvass Re-Inspection", "C…
$ Results           &lt;chr&gt; "Pass", "Pass", "Pass", "Pass", "Pass", "Pass", "Out…
$ Violations        &lt;chr&gt; "19. OUTSIDE GARBAGE WASTE GREASE AND STORAGE AREA; …
$ Latitude          &lt;dbl&gt; 41.73541, 41.92619, 41.79492, 41.78429, 41.79517, 41…
$ Longitude         &lt;dbl&gt; -87.66291, -87.65002, -87.59985, -87.72277, -87.5971…
$ Location          &lt;chr&gt; "(41.735408702583165, -87.66290968424336)", "(41.926…</code></pre>
</div>
</div>
<p>Changing names and data types of the data in inspections</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>inspections <span class="ot">&lt;-</span> inspections <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">ID =</span> <span class="st">`</span><span class="at">Inspection ID</span><span class="st">`</span>, <span class="at">DBANAME =</span> <span class="st">`</span><span class="at">DBA Name</span><span class="st">`</span>, <span class="at">AKANAME =</span> <span class="st">`</span><span class="at">AKA Name</span><span class="st">`</span>, <span class="at">License =</span> <span class="st">`</span><span class="at">License #</span><span class="st">`</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">InspectionDate =</span> <span class="st">`</span><span class="at">Inspection Date</span><span class="st">`</span>,<span class="at">InspectionType =</span> <span class="st">`</span><span class="at">Inspection Type</span><span class="st">`</span>, </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">FacilityType =</span> <span class="st">`</span><span class="at">Facility Type</span><span class="st">`</span>, <span class="at">Risk =</span> Risk, <span class="at">Address =</span> Address, <span class="at">City =</span> City, <span class="at">State =</span> State) <span class="sc">%&gt;%</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ID =</span> <span class="fu">as.integer</span>(ID), <span class="at">DBANAME =</span> <span class="fu">as.character</span>(DBANAME), <span class="at">AKANAME =</span> <span class="fu">as.character</span>(AKANAME), <span class="at">License =</span> <span class="fu">as.character</span>(License), <span class="at">FacilityType =</span> <span class="fu">as.factor</span>(FacilityType), <span class="at">Risk =</span> <span class="fu">as.factor</span>(Risk), <span class="at">Address =</span> <span class="fu">as.character</span>(Address), <span class="at">City =</span> <span class="fu">as.factor</span>(City), <span class="at">State =</span> <span class="fu">as.factor</span>(State),<span class="at">Zip =</span> <span class="fu">as.factor</span>(Zip),<span class="at">Results =</span> <span class="fu">as.factor</span>(Results), <span class="at">InspectionDate =</span> <span class="fu">as.character</span>(InspectionDate), <span class="at">InspectionType =</span> <span class="fu">as.factor</span>(InspectionType), <span class="at">Latitude =</span> <span class="fu">as.double</span>(Latitude), <span class="at">Longitude =</span> <span class="fu">as.double</span>(Longitude), <span class="at">Location =</span> <span class="fu">as.character</span>(Location))</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>inspections<span class="sc">$</span>InspectionDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(inspections<span class="sc">$</span>InspectionDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(inspections)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 140,954
Columns: 17
$ ID             &lt;int&gt; 1995829, 1995817, 1995822, 1995814, 1995811, 1995752, 1…
$ DBANAME        &lt;chr&gt; "SUBWAY", "VENEZUELAN BOWL GRILL LLC", "SEVEN TEN", "CH…
$ AKANAME        &lt;chr&gt; "SUBWAY", "VENEZUELAN BOWL GRILL", "SEVEN TEN", "CHISME…
$ License        &lt;chr&gt; "1679112", "2424110", "1172093", "1334960", "2334190", …
$ FacilityType   &lt;fct&gt; "Restaurant", "Restaurant", "Restaurant", "Restaurant",…
$ Risk           &lt;fct&gt; Risk 1 (High), Risk 1 (High), Risk 1 (High), Risk 1 (Hi…
$ Address        &lt;chr&gt; "8711 S ASHLAND AVE", "2436 N LINCOLN AVE", "1055 E 55T…
$ City           &lt;fct&gt; CHICAGO, CHICAGO, CHICAGO, CHICAGO, CHICAGO, CHICAGO, C…
$ State          &lt;fct&gt; IL, IL, IL, IL, IL, IL, IL, IL, IL, IL, IL, IL, IL, IL,…
$ Zip            &lt;fct&gt; 60620, 60614, 60615, 60629, 60615, 60621, 60630, 60614,…
$ InspectionDate &lt;date&gt; 2017-03-17, 2017-03-17, 2017-03-17, 2017-03-17, 2017-0…
$ InspectionType &lt;fct&gt; Canvass Re-Inspection, Canvass Re-Inspection, Canvass R…
$ Results        &lt;fct&gt; Pass, Pass, Pass, Pass, Pass, Pass, Out of Business, Pa…
$ Violations     &lt;chr&gt; "19. OUTSIDE GARBAGE WASTE GREASE AND STORAGE AREA; CLE…
$ Latitude       &lt;dbl&gt; 41.73541, 41.92619, 41.79492, 41.78429, 41.79517, 41.77…
$ Longitude      &lt;dbl&gt; -87.66291, -87.65002, -87.59985, -87.72277, -87.59710, …
$ Location       &lt;chr&gt; "(41.735408702583165, -87.66290968424336)", "(41.926190…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inspections<span class="sc">$</span>City)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               ALSIP BANNOCKBURNDEERFIELD         BEDFORD PARK 
                   3                    2                    2 
              BERWYN         BLOOMINGDALE          BLUE ISLAND 
                   2                    1                    2 
         BOLINGBROOK            BRIDEVIEW            BROADVIEW 
                   1                    1                    1 
        CALUMET CITY             CCHICAGO      CHARLES A HAYES 
                   4                   37                    6 
           CHCHICAGO             CHCICAGO      CHESTNUT STREET 
                   6                    3                    7 
             chicago              Chicago              CHicago 
                  75                  244                   10 
             CHICAGO      CHICAGO HEIGHTS       CHICAGOCHICAGO 
              140390                    2                    3 
            CHICAGOI               CICERO   COUNTRY CLUB HILLS 
                   3                    6                    1 
         DES PLAINES     EAST HAZEL CREST    ELK GROVE VILLAGE 
                   1                    3                   10 
            ELMHURST             EVANSTON       EVERGREEN PARK 
                   8                    6                    1 
           FRANKFORT              GLENCOE             INACTIVE 
                   1                    1                    7 
             JUSTICE          LAKE ZURICH              LOMBARD 
                   1                    1                    1 
             Maywood              MAYWOOD           NAPERVILLE 
                   1                   12                    2 
         NILES NILES             Norridge             OAK LAWN 
                   2                    1                    1 
            OAK PARK       OLYMPIA FIELDS           SCHAUMBURG 
                   3                    1                    8 
       SCHILLER PARK               SKOKIE           STREAMWOOD 
                   1                    8                    2 
              SUMMIT          TINLEY PARK                WORTH 
                   4                    1                    5 
                NA's 
                  49 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inspections<span class="sc">$</span>State)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    IL   NA's 
140946      8 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inspections<span class="sc">$</span>Zip)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>60007 60015 60018 60022 60047 60076 60077 60107 60108 60126 60148 60153 60155 
   10     2     1     1     1     3     5     2     1     8     1    13     1 
60176 60193 60201 60202 60302 60402 60406 60409 60411 60423 60429 60440 60453 
    1     8     5     1     3     2     2     4     2     1     3     1     1 
60458 60461 60477 60478 60482 60501 60540 60601 60602 60603 60604 60605 60606 
    1     1     1     1     5     4     2  2401  1025  1372   940  2243  2368 
60607 60608 60609 60610 60611 60612 60613 60614 60615 60616 60617 60618 60619 
 3497  4122  3173  3135  4577  2254  2981  5266  1687  3452  2843  4258  2940 
60620 60621 60622 60623 60624 60625 60626 60627 60628 60629 60630 60631 60632 
 2664  1247  4549  3472  1595  3582  2170     1  2606  2732  1903  1041  3501 
60633 60634 60636 60637 60638 60639 60640 60641 60642 60643 60644 60645 60646 
  250  2784  1855  1812  1729  3684  3521  2706  1657  1962  1863   977  1050 
60647 60649 60651 60652 60653 60654 60655 60656 60657 60659 60660 60661 60666 
 4874  1774  2159  1238  1247  2723   578   564  4748  2939  2007  1916  1739 
60706 60707 60714 60803 60804 60805 60827  NA's 
    1   782     2     3     6     1   102     6 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inspections<span class="sc">$</span>InspectionDate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Min.      1st Qu.       Median         Mean      3rd Qu.         Max. 
"2010-01-04" "2011-12-28" "2013-11-08" "2013-10-10" "2015-08-11" "2017-03-17" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inspections<span class="sc">$</span>Longitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
 -87.91  -87.71  -87.67  -87.68  -87.63  -87.53     494 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inspections<span class="sc">$</span>Latitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
  41.64   41.83   41.89   41.88   41.94   42.02     494 </code></pre>
</div>
</div>
<p>##PART II: Resolve Data Quality Issues</p>
<p>Question: 1</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>inspections<span class="sc">$</span>Zip[inspections<span class="sc">$</span>Zip <span class="sc">==</span> <span class="st">"60627"</span>] <span class="ot">&lt;-</span> <span class="st">"60827"</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inspections<span class="sc">$</span>Zip)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>60007 60015 60018 60022 60047 60076 60077 60107 60108 60126 60148 60153 60155 
   10     2     1     1     1     3     5     2     1     8     1    13     1 
60176 60193 60201 60202 60302 60402 60406 60409 60411 60423 60429 60440 60453 
    1     8     5     1     3     2     2     4     2     1     3     1     1 
60458 60461 60477 60478 60482 60501 60540 60601 60602 60603 60604 60605 60606 
    1     1     1     1     5     4     2  2401  1025  1372   940  2243  2368 
60607 60608 60609 60610 60611 60612 60613 60614 60615 60616 60617 60618 60619 
 3497  4122  3173  3135  4577  2254  2981  5266  1687  3452  2843  4258  2940 
60620 60621 60622 60623 60624 60625 60626 60627 60628 60629 60630 60631 60632 
 2664  1247  4549  3472  1595  3582  2170     0  2606  2732  1903  1041  3501 
60633 60634 60636 60637 60638 60639 60640 60641 60642 60643 60644 60645 60646 
  250  2784  1855  1812  1729  3684  3521  2706  1657  1962  1863   977  1050 
60647 60649 60651 60652 60653 60654 60655 60656 60657 60659 60660 60661 60666 
 4874  1774  2159  1238  1247  2723   578   564  4748  2939  2007  1916  1739 
60706 60707 60714 60803 60804 60805 60827  NA's 
    1   782     2     3     6     1   103     6 </code></pre>
</div>
</div>
<p>Question: 2</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>inspections<span class="sc">$</span>City[inspections<span class="sc">$</span>City <span class="sc">==</span> <span class="st">"BRIDEVIEW"</span>] <span class="ot">&lt;-</span> <span class="st">"Bridgeview"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in `[&lt;-.factor`(`*tmp*`, inspections$City == "BRIDEVIEW", value =
structure(c(19L, : invalid factor level, NA generated</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>inspections<span class="sc">$</span>Zip[inspections<span class="sc">$</span>DBANAME <span class="sc">==</span> <span class="st">"STEVES 77 ICE CREAM"</span>] <span class="ot">&lt;-</span> <span class="st">"60455"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in `[&lt;-.factor`(`*tmp*`, inspections$DBANAME == "STEVES 77 ICE CREAM",
: invalid factor level, NA generated</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inspections<span class="sc">$</span>City)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               ALSIP BANNOCKBURNDEERFIELD         BEDFORD PARK 
                   3                    2                    2 
              BERWYN         BLOOMINGDALE          BLUE ISLAND 
                   2                    1                    2 
         BOLINGBROOK            BRIDEVIEW            BROADVIEW 
                   1                    0                    1 
        CALUMET CITY             CCHICAGO      CHARLES A HAYES 
                   4                   37                    6 
           CHCHICAGO             CHCICAGO      CHESTNUT STREET 
                   6                    3                    7 
             chicago              Chicago              CHicago 
                  75                  244                   10 
             CHICAGO      CHICAGO HEIGHTS       CHICAGOCHICAGO 
              140390                    2                    3 
            CHICAGOI               CICERO   COUNTRY CLUB HILLS 
                   3                    6                    1 
         DES PLAINES     EAST HAZEL CREST    ELK GROVE VILLAGE 
                   1                    3                   10 
            ELMHURST             EVANSTON       EVERGREEN PARK 
                   8                    6                    1 
           FRANKFORT              GLENCOE             INACTIVE 
                   1                    1                    7 
             JUSTICE          LAKE ZURICH              LOMBARD 
                   1                    1                    1 
             Maywood              MAYWOOD           NAPERVILLE 
                   1                   12                    2 
         NILES NILES             Norridge             OAK LAWN 
                   2                    1                    1 
            OAK PARK       OLYMPIA FIELDS           SCHAUMBURG 
                   3                    1                    8 
       SCHILLER PARK               SKOKIE           STREAMWOOD 
                   1                    8                    2 
              SUMMIT          TINLEY PARK                WORTH 
                   4                    1                    5 
                NA's 
                  50 </code></pre>
</div>
</div>
<p>Question: 3</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>inspections<span class="sc">$</span>DBANAME[<span class="fu">is.na</span>(inspections<span class="sc">$</span>Zip)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Chartwells"          "STEVES 77 ICE CREAM" "DUNKIN DONUTS"      
[4] "DUNKIN DONUTS"       "DUNKIN DONUTS"       "Chartwells"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>inspections<span class="sc">$</span>Zip[inspections<span class="sc">$</span>DBANAME <span class="sc">==</span> <span class="st">"CHARTWELLS"</span>] <span class="ot">&lt;-</span> <span class="st">"60455"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in `[&lt;-.factor`(`*tmp*`, inspections$DBANAME == "CHARTWELLS", value =
structure(c(53L, : invalid factor level, NA generated</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>inspections<span class="sc">$</span>Zip[inspections<span class="sc">$</span>DBANAME <span class="sc">==</span> <span class="st">"DUNKIN DONUTS"</span>] <span class="ot">&lt;-</span> <span class="st">"60455"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in `[&lt;-.factor`(`*tmp*`, inspections$DBANAME == "DUNKIN DONUTS", :
invalid factor level, NA generated</code></pre>
</div>
</div>
<p>Question 4</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>zipcodes <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"C:/Users//liamm/Downloads/zipcode.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 44336 Columns: 5
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (3): zip, city, state
dbl (2): latitude, longitude

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(zipcodes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 44,336
Columns: 5
$ zip       &lt;chr&gt; "00210", "00211", "00212", "00213", "00214", "00215", "00501…
$ city      &lt;chr&gt; "Portsmouth", "Portsmouth", "Portsmouth", "Portsmouth", "Por…
$ state     &lt;chr&gt; "NH", "NH", "NH", "NH", "NH", "NH", "NY", "NY", "PR", "PR", …
$ latitude  &lt;dbl&gt; 43.00590, 43.00590, 43.00590, 43.00590, 43.00590, 43.00590, …
$ longitude &lt;dbl&gt; -71.01320, -71.01320, -71.01320, -71.01320, -71.01320, -71.0…</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>inspections <span class="ot">&lt;-</span> <span class="fu">left_join</span>(inspections, zipcodes, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"Zip"</span> <span class="ot">=</span> <span class="st">"zip"</span>))</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(inspections)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 140,954
Columns: 21
$ ID             &lt;int&gt; 1995829, 1995817, 1995822, 1995814, 1995811, 1995752, 1…
$ DBANAME        &lt;chr&gt; "SUBWAY", "VENEZUELAN BOWL GRILL LLC", "SEVEN TEN", "CH…
$ AKANAME        &lt;chr&gt; "SUBWAY", "VENEZUELAN BOWL GRILL", "SEVEN TEN", "CHISME…
$ License        &lt;chr&gt; "1679112", "2424110", "1172093", "1334960", "2334190", …
$ FacilityType   &lt;fct&gt; "Restaurant", "Restaurant", "Restaurant", "Restaurant",…
$ Risk           &lt;fct&gt; Risk 1 (High), Risk 1 (High), Risk 1 (High), Risk 1 (Hi…
$ Address        &lt;chr&gt; "8711 S ASHLAND AVE", "2436 N LINCOLN AVE", "1055 E 55T…
$ City           &lt;fct&gt; CHICAGO, CHICAGO, CHICAGO, CHICAGO, CHICAGO, CHICAGO, C…
$ State          &lt;fct&gt; IL, IL, IL, IL, IL, IL, IL, IL, IL, IL, IL, IL, IL, IL,…
$ Zip            &lt;chr&gt; "60620", "60614", "60615", "60629", "60615", "60621", "…
$ InspectionDate &lt;date&gt; 2017-03-17, 2017-03-17, 2017-03-17, 2017-03-17, 2017-0…
$ InspectionType &lt;fct&gt; Canvass Re-Inspection, Canvass Re-Inspection, Canvass R…
$ Results        &lt;fct&gt; Pass, Pass, Pass, Pass, Pass, Pass, Out of Business, Pa…
$ Violations     &lt;chr&gt; "19. OUTSIDE GARBAGE WASTE GREASE AND STORAGE AREA; CLE…
$ Latitude       &lt;dbl&gt; 41.73541, 41.92619, 41.79492, 41.78429, 41.79517, 41.77…
$ Longitude      &lt;dbl&gt; -87.66291, -87.65002, -87.59985, -87.72277, -87.59710, …
$ Location       &lt;chr&gt; "(41.735408702583165, -87.66290968424336)", "(41.926190…
$ city           &lt;chr&gt; "Chicago", "Chicago", "Chicago", "Chicago", "Chicago", …
$ state          &lt;chr&gt; "IL", "IL", "IL", "IL", "IL", "IL", "IL", "IL", "IL", "…
$ latitude       &lt;dbl&gt; 41.74048, 41.92268, 41.80152, 41.77748, 41.80152, 41.77…
$ longitude      &lt;dbl&gt; -87.65282, -87.65432, -87.60215, -87.71155, -87.60215, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>inspections <span class="ot">&lt;-</span> inspections <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>City, <span class="sc">-</span>State, <span class="sc">-</span>Latitude, <span class="sc">-</span>Longitude)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>inspections <span class="ot">&lt;-</span> inspections <span class="sc">%&gt;%</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">city =</span> <span class="fu">as.factor</span>(city), <span class="at">state =</span> <span class="fu">as.factor</span>(state), <span class="at">Zip =</span> <span class="fu">as.factor</span>(Zip), <span class="at">latitude =</span> <span class="fu">as.double</span>(latitude), <span class="at">longitude =</span> <span class="fu">as.double</span>(longitude))</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(inspections)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 140,954
Columns: 17
$ ID             &lt;int&gt; 1995829, 1995817, 1995822, 1995814, 1995811, 1995752, 1…
$ DBANAME        &lt;chr&gt; "SUBWAY", "VENEZUELAN BOWL GRILL LLC", "SEVEN TEN", "CH…
$ AKANAME        &lt;chr&gt; "SUBWAY", "VENEZUELAN BOWL GRILL", "SEVEN TEN", "CHISME…
$ License        &lt;chr&gt; "1679112", "2424110", "1172093", "1334960", "2334190", …
$ FacilityType   &lt;fct&gt; "Restaurant", "Restaurant", "Restaurant", "Restaurant",…
$ Risk           &lt;fct&gt; Risk 1 (High), Risk 1 (High), Risk 1 (High), Risk 1 (Hi…
$ Address        &lt;chr&gt; "8711 S ASHLAND AVE", "2436 N LINCOLN AVE", "1055 E 55T…
$ Zip            &lt;fct&gt; 60620, 60614, 60615, 60629, 60615, 60621, 60630, 60614,…
$ InspectionDate &lt;date&gt; 2017-03-17, 2017-03-17, 2017-03-17, 2017-03-17, 2017-0…
$ InspectionType &lt;fct&gt; Canvass Re-Inspection, Canvass Re-Inspection, Canvass R…
$ Results        &lt;fct&gt; Pass, Pass, Pass, Pass, Pass, Pass, Out of Business, Pa…
$ Violations     &lt;chr&gt; "19. OUTSIDE GARBAGE WASTE GREASE AND STORAGE AREA; CLE…
$ Location       &lt;chr&gt; "(41.735408702583165, -87.66290968424336)", "(41.926190…
$ city           &lt;fct&gt; Chicago, Chicago, Chicago, Chicago, Chicago, Chicago, C…
$ state          &lt;fct&gt; IL, IL, IL, IL, IL, IL, IL, IL, IL, IL, IL, IL, IL, IL,…
$ latitude       &lt;dbl&gt; 41.74048, 41.92268, 41.80152, 41.77748, 41.80152, 41.77…
$ longitude      &lt;dbl&gt; -87.65282, -87.65432, -87.60215, -87.71155, -87.60215, …</code></pre>
</div>
</div>
<p>Question 6</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inspections<span class="sc">$</span>city)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             Alsip          Amf Ohare             Berwyn       Bloomingdale 
                 3               1732                  2                  1 
       Blue Island        Bolingbrook          Broadview       Calumet City 
                 2                  1                  1                  4 
           Chicago    Chicago Heights             Cicero Country Club Hills 
            137171                  2                  6                  1 
         Deerfield        Des Plaines  Elk Grove Village           Elmhurst 
                 2                  1                 10                  8 
      Elmwood Park           Evanston     Evergreen Park          Frankfort 
               782                  6                  1                  1 
           Glencoe    Harwood Heights        Hazel Crest            Justice 
                 1                  1                  3                  1 
       Lake Zurich            Lombard            Maywood         Naperville 
                 1                  1                 13                  2 
             Niles           Oak Lawn           Oak Park     Olympia Fields 
                 2                  1                  3                  1 
         Riverdale         Schaumburg      Schiller Park             Skokie 
               103                  8                  1                  8 
        Streamwood        Summit Argo        Tinley Park              Worth 
                 2                  4                  1                  5 
              NA's 
              1055 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inspections<span class="sc">$</span>state)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    IL   NA's 
139899   1055 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inspections<span class="sc">$</span>Zip)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>60007 60015 60018 60022 60047 60076 60077 60107 60108 60126 60148 60153 60155 
   10     2     1     1     1     3     5     2     1     8     1    13     1 
60176 60193 60201 60202 60302 60402 60406 60409 60411 60423 60429 60440 60453 
    1     8     5     1     3     2     2     4     2     1     3     1     1 
60458 60461 60477 60478 60482 60501 60540 60601 60602 60603 60604 60605 60606 
    1     1     1     1     5     4     2  2330   991  1360   898  2218  2297 
60607 60608 60609 60610 60611 60612 60613 60614 60615 60616 60617 60618 60619 
 3485  4091  3129  3121  4562  2239  2976  5231  1687  3431  2826  4238  2931 
60620 60621 60622 60623 60624 60625 60626 60628 60629 60630 60631 60632 60633 
 2644  1226  4510  3464  1595  3563  2167  2600  2718  1893  1031  3453   250 
60634 60636 60637 60638 60639 60640 60641 60642 60643 60644 60645 60646 60647 
 2762  1836  1812  1704  3660  3506  2669  1642  1957  1841   956  1050  4862 
60649 60651 60652 60653 60654 60655 60656 60657 60659 60660 60661 60666 60706 
 1769  2157  1222  1247  2708   566   560  4746  2920  1980  1884  1732     1 
60707 60714 60803 60804 60805 60827  NA's 
  782     2     3     6     1   103  1055 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inspections<span class="sc">$</span>longitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
 -88.18  -87.70  -87.67  -87.68  -87.64  -87.55    1055 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inspections<span class="sc">$</span>latitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
  41.50   41.82   41.89   41.88   41.94   42.20    1055 </code></pre>
</div>
</div>
<p>##PART III: Visualize and Interpret the Data</p>
<p>Question 1</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>inspections <span class="ot">&lt;-</span> inspections <span class="sc">%&gt;%</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ViolationCount =</span> <span class="fu">str_count</span>(Violations, <span class="st">"</span><span class="sc">\\</span><span class="st">|"</span>) <span class="sc">+</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Question 2</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(inspections, <span class="fu">aes</span>(<span class="at">x =</span> Results, <span class="at">y =</span> ViolationCount)) <span class="sc">+</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Relationship between Inspection Violations and Inspection Results"</span>,</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Results"</span>,</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Violation Count"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 24787 rows containing non-finite outside the scale range
(`stat_boxplot()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Assignment-1.1_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The boxplot represnts the relationship between the number of violations and the inspection results. As shown in the chart above, the number of violations seems to have an effect on the inspection results. The more violations that are present the lower the chance of passing is. Having a violation count above 5 typically means that you will fail your inspection.</p>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>